2025-09-29 11:42:07,403 - INFO - 
====================================================================================================
                             Initializing Community Detection Pipeline                              
====================================================================================================
2025-09-29 11:42:20,165 - INFO - NQ (Natural Questions) from Google graph
2025-09-29 11:42:20,165 - INFO - Description: Graph constructed from wiki articles citation data in the Natural Questions dataset
2025-09-29 11:42:20,165 - INFO - 
====================================================================================================
                                           Graph Analysis                                           
====================================================================================================
2025-09-29 11:42:41,476 - INFO - Computing self_loops...
2025-09-29 11:42:41,494 - INFO - âœ… self_loops completed in 0s
2025-09-29 11:42:41,494 - INFO - Computing density...
2025-09-29 11:42:41,506 - INFO - âœ… density completed in 0s
2025-09-29 11:42:46,999 - INFO - Computing connectivity_check...
2025-09-29 11:42:47,445 - INFO - âœ… connectivity_check completed in 0s
2025-09-29 11:42:47,446 - INFO - Computing reciprocity...
2025-09-29 11:42:59,080 - INFO - âœ… reciprocity completed in 11s
2025-09-29 11:43:14,805 - INFO - --> JSON metrics saved to community_detection/output/run129/run129_metrics.json
2025-09-29 11:43:14,807 - INFO - --> Enhanced Markdown report saved to community_detection/output/run129/run129_report.md
2025-09-29 11:43:14,807 - INFO - ================================================================================
2025-09-29 11:43:14,807 - INFO -                            ðŸš€ GRAPH ANALYSIS COMPLETE                            
2025-09-29 11:43:14,807 - INFO - --------------------------------------------------------------------------------
2025-09-29 11:43:14,807 - INFO - **Network Overview:**
2025-09-29 11:43:14,807 - INFO - - **Scale:** Very Large directed network
2025-09-29 11:43:14,807 - INFO - - **Original Size:** 108,071 nodes, 5,122,983 edges
2025-09-29 11:43:14,807 - INFO - - **Post-Cleaning Size:** 107,534 nodes, 5,122,982 edges (removed 0.68% of nodes)
2025-09-29 11:43:14,807 - INFO - - **Connectivity:** sparse (density: 0.04430%)
2025-09-29 11:43:14,807 - INFO - - **Average Connections:** 95.3 per node
2025-09-29 11:43:14,807 - INFO - **Key Characteristics:**
2025-09-29 11:43:14,807 - INFO - - âœ… **Fully Connected:** All nodes are reachable
2025-09-29 11:43:14,807 - INFO - - ðŸ“ˆ **Growth Potential:** Very sparse network with room for expansion
2025-09-29 11:43:14,807 - INFO - --------------------------------------------------------------------------------
2025-09-29 11:43:14,807 - INFO - ðŸ“Š Computed metrics in 45.83 seconds
2025-09-29 11:43:14,807 - INFO - ================================================================================
2025-09-29 11:43:14,807 - INFO - 
====================================================================================================
                                        Community Detection                                         
====================================================================================================
2025-09-29 11:45:20,781 - INFO - Infomap found 1249 communities in 2m 5s
2025-09-29 11:45:20,784 - INFO - -------------------------------------------------------------------
2025-09-29 11:45:28,755 - INFO - Converted to undirected weighted graph:
2025-09-29 11:45:28,755 - INFO -    Weight distribution: {1: 3621598, 2: 750692}
2025-09-29 11:46:33,488 - INFO - Louvain found 24 communities in 1m 12s
2025-09-29 11:46:33,488 - INFO - -------------------------------------------------------------------
2025-09-29 11:46:42,127 - INFO - Converted to undirected weighted graph:
2025-09-29 11:46:42,127 - INFO -    Weight distribution: {1: 3621598, 2: 750692}
2025-09-29 11:47:53,981 - INFO - Leiden found 19 communities in 1m 20s
2025-09-29 11:47:53,981 - INFO - -------------------------------------------------------------------
2025-09-29 11:47:53,981 - INFO - Starting optimized K-means community detection
2025-09-29 11:48:00,823 - INFO - Loading sentence transformer model: all-MiniLM-L6-v2
2025-09-29 11:48:02,708 - INFO - Use pytorch device_name: cuda:0
2025-09-29 11:48:02,708 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-29 11:48:05,805 - INFO - Generating embeddings for 107534 nodes with batch size 2048
2025-09-29 11:48:16,532 - INFO - Generated embeddings shape: (107534, 384)
2025-09-29 11:48:16,533 - INFO - Applying PCA to reduce from 384 to 50 dimensions
2025-09-29 11:48:17,942 - INFO - PCA explained variance ratio: 0.458
2025-09-29 11:48:17,942 - INFO - Reducing dimensions with UMAP to 15 components
2025-09-29 11:48:17,942 - INFO - Very large dataset detected, using low-dimensional approximation
2025-09-29 11:49:46,677 - INFO - Reduced embeddings shape: (107534, 15)
2025-09-29 11:49:47,691 - INFO - Evaluating k values in parallel: [30, 40, 50, 60, 70]
2025-09-29 11:49:47,692 - INFO - Sampling 10000 points from 107534 for evaluation
2025-09-29 11:49:47,692 - INFO - Sampling 10000 points from 107534 for evaluation
2025-09-29 11:49:47,693 - INFO - Sampling 10000 points from 107534 for evaluation
2025-09-29 11:49:47,696 - INFO - Sampling 10000 points from 107534 for evaluation
2025-09-29 11:49:48,357 - INFO - Sampling 10000 points from 107534 for evaluation
2025-09-29 11:49:49,458 - INFO - K=30: Silhouette=0.351, CH=1745.9, DB=1.178
2025-09-29 11:49:49,458 - INFO - K=40: Silhouette=0.341, CH=1604.5, DB=1.126
2025-09-29 11:49:49,458 - INFO - K=50: Silhouette=0.329, CH=1616.7, DB=1.122
2025-09-29 11:49:49,459 - INFO - K=60: Silhouette=0.319, CH=1509.1, DB=1.221
2025-09-29 11:49:49,459 - INFO - K=70: Silhouette=0.307, CH=1255.0, DB=1.243
2025-09-29 11:49:49,461 - INFO - Selected optimal k: 30 (votes: 2)
2025-09-29 11:49:49,461 - INFO - Running final K-means clustering with k=30
2025-09-29 11:49:49,461 - INFO - Sampling 10000 points from 107534 for evaluation
2025-09-29 11:49:49,712 - INFO - K-means clustering completed: 30 communities found
2025-09-29 11:49:49,712 - INFO - Final metrics - Silhouette: 0.351, CH: 1745.9, DB: 1.178
2025-09-29 11:49:49,714 - INFO - K-means found 30 communities in 1m 55s
2025-09-29 11:49:49,714 - INFO - -------------------------------------------------------------------
2025-09-29 11:49:49,867 - INFO - --> Raw communities saved to community_detection/output/run129/run129_raw_communities.json
2025-09-29 11:49:49,867 - INFO - 
====================================================================================================
                                         Pipeline Complete                                          
====================================================================================================
2025-09-29 11:49:49,867 - INFO - --> All outputs saved to community_detection/output/run129
2025-09-29 11:49:49,867 - INFO - ===================================================================
2025-09-29 11:49:49,867 - INFO -                           Pipeline Summary                         
2025-09-29 11:49:49,867 - INFO - -------------------------------------------------------------------
2025-09-29 11:49:49,867 - INFO -    â€¢ Run ID: run129
2025-09-29 11:49:49,867 - INFO -    â€¢ Runtime: 7m 42s
